<div *ngIf="game">

  <p>Game id : {{game.id}}</p>
  <p>Users in game :</p>
  <ul>
    <li *ngFor="let userInGame of game.usersInGame">{{ userInGame.user.userName }}</li>
  </ul>


  <mat-card style="width: 400px">
    <mat-card-header>Chat :</mat-card-header>
    <hr>
    <mat-card-content [style.overflow]="'auto'" [style.height.px]="'200'">
      <ul>
        <li *ngFor="let message of this.chat.messages">{{message.user.userName}} : {{message.text}}</li>
      </ul>
    </mat-card-content>

    <form [formGroup]="chatForm" (ngSubmit)="sendMessage()">
      <div>
        <mat-form-field class="full-width-input" fxFill>
          <mat-label>Message</mat-label>
          <textarea matInput #message maxlength="256" formControlName="message" placeholder="Ex. Hello..." required> </textarea>
          <mat-hint align="start">
            <strong>Don't disclose personal info</strong>
          </mat-hint>
          <mat-hint align="end">{{message.value.length}} / 256</mat-hint>
          <mat-error>
            Please provide a valid text
          </mat-error>
        </mat-form-field>
      </div>
      <br />
      <a mat-stroked-button (click)="sendMessage()">Send</a>
    </form>

  </mat-card>
</div>
